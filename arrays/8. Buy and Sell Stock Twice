// TC O(N), SC O(N)

int calcProfit(vector<int> A) {

	vector<int> forward(A.size()), backward(A.size());

	int minVal = INT_MAX, profit = INT_MIN;

	for(int i = 0; i < A.size(); i++) {
		minVal = min(minVal, A[i]);
		profit = max(profit, A[i] - minVal);
		forward[i] = profit;
	}

	int maxVal = INT_MIN; 
	profit = INT_MIN;

	for(int i = A.size() - 1; i >= 0; i--) {
		maxVal = max(maxVal, A[i]);
		profit = max(profit, maxVal - A[i]);
		backward[i] = profit;
	}

	profit = INT_MIN;

	for(int i = 0; i < A.size(); i++)
		profit = max(profit, forward[i] + backward[i]);
	
	return profit;
}
